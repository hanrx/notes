

## [内容提要](docs/内容提要.md "内容提要")
* 提要：介绍如何将EagleEye项目一步一步地从单体架构重构成为微服务架构，进而将这个项目拆分成众多微服务，让它们运行在各自的Docker容器中，实现持续集成/持续部署，并最终自动部署到云环境（Amazon）中。


## [关于本书](docs/关于本书.md "关于本书")
* 适合的读者。
* 组织结构。
* 关于代码。

## [源码](docs/源码.md "源码")


## [附录A 在桌面运行云服务](docs/附录A%20在桌面运行云服务.md "附录A 在桌面运行云服务")
* 本附录主要内容
    * 列出运行本书中的代码所需的软件
    * 从GitHub上下载每章的源代码
    * 使用Maven编译和打包源代码
    * 构建和提供每章使用的Docker镜像
    * 使用Docker Compose启动由构建编译的Docker镜像
    * 构建Docker镜像：
        * Spotify Maven：服务都被打包为Docker镜像。
        * 使用Alpine Linux提供实例，常用来构建Docker镜像。
        * 将安装名为nc的命令行实用程序。nc命令用于ping服务器并查看特定的端口是否在网络上可用。该命令将在run.sh命令脚本中使用，以确保在启动服务之前，所有依赖的服务（如数据库和Spring Cloud Config服务）都已启动。
        * 为许可证服务的可执行JAR文件创建一个目录，然后将jar文件从本地文件系统复制到在Docker镜像上创建的目录中。
        * 通过ADD命令安装run.sh脚本。
        * 一旦将run.sh命令复制到许可证服务的Docker镜像，Docker命令CMD./run.sh用于告知Docker在实际镜像启动时执行run.sh启动脚本。
    * Docker Compose启动服务：
        * Docker Compose是一个服务编排工具，它允许开发人员将服务定义为一个组，然后作为一个单元一起启动。
        * Docker Compose还拥有为每个服务定义环境变量的功能。



## [第1章 欢迎迈入云世界，Spring](docs/第1章%20欢迎迈入云世界，Spring.md "第1章 欢迎迈入云世界，Spring")

* 什么是微服务：
    * 单体架构的问题在：在该应用程序上进行开发的各个团队的沟通与合作成本高。每当各个团队需要修改代码时，整个应用程序都需要重新构建、重新测试和重新部署。
    * 概述：微服务是一个小的、松耦合的分布式服务。
    * 信奉的重要概念：分解和分离应用程序的功能，使它们完全彼此独立。
    * 微服务框架具有以下的特征：
        * 确定义了职责范围的细粒度组件。
        * 完全独立部署。一个微服务可以跨多个应用程序复用。
        * 通信基于一些基本的原则，并采用HTTP和JSON（JavaScript Object Natation）这样的轻量级通信协议。
        * 底层技术无关。
        * 使组织拥有明确责任领域的小型开发团队容易。

* 什么是Spring，为什么它与微服务有关：
    * 依赖注入框架（如Spring），允许用户通过约定（以及注解）将应用程序对象之间的关系外部化，而不是在对象内部彼此硬编码实例化代码，以便更轻松地管理大型Java项目。
    * Spring Boot和Spring Cloud：为解决高度分布式的模式，服务能够被构建成可以轻松部署到云端的小型分布式服务。
    * Spring Boot：提供了一个基于Java的、面向REST的微服务框架。
    * Spring Cloud：在一个公共框架之下封装了多个流行的云管理微服务框架，并且让这些技术的使用和部署像为代码添加注解一样简便。

* 在本书中读者会学到什么：
    * 微服务是什么以及构建基于微服务的应用程序的设计考虑因素。
    * 什么时候不应该构建基于微服务的应用程序。
    * 如何使用Spring Boot框架来构建微服务。
    * 支持微服务应用程序的核心运维模式，特别是基于云的应用程序。
    * 如何使用Spring Cloud来实现这些运维模式。
    * 如何利用所学到的知识，构建一个部署管道，将服务部署到内部管理的私有云或公有云厂商所提供的环境中。

* 使用Spring Boot来构建微服务：

* 为什么要改变构建应用的方式：
    *及影响开发人员考虑构建应用程序的方式有：
        * 复杂性上升。
        * 客户期望更快速的交付。
        * 性能和可伸缩性。
        * 客户期望他们的应用程序可用。
    * 微服务可以构建具有下面这些特性的系统：
        * 灵活性——可以将解耦的服务进行组合和重新安排，以快速交付新的功能。一个正在使用的代码单元越小，更改代码越不复杂，测试部署代码所需的时间越短。
        * 有弹性——解耦的服务意味着应用程序不再是单个“泥浆球”，在这种架构中其中一部分应用程序的降级会导致整个应用程序失败。故障可以限制在应用程序的一小部分之中，并在整个应用程序遇到中断之前被控制。这也使应用程序在出现不可恢复的错误的情况下能够优雅地降级。
        * 可伸缩性——解耦的服务可以轻松地跨多个服务器进行水平分布，从而可以适当地对功能/服务进行伸缩。单体应用程序中的所有逻辑是交织在一起的，即使只有一小部分应用程序是瓶颈，整个应用程序也需要扩展。小型服务的扩展是局部的，成本效益更高。
    结语：小型的、简单的、和解耦的服务=可伸缩性、有弹性的和灵活的应用程序。















