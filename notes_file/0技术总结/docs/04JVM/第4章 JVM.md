# JVM* 参考：> Java 虚拟机规范：https://docs.oracle.com/javase/specs/index.html> Java平台，标准版故障排除指南: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/> Java ®虚拟机规范：https://docs.oracle.com/javase/specs/jvms/se8/html/* 调试查看工具：    * 自带：JProfiler、jvisualvm、jconsole、JHSDB（JDK9及以后）。    * JDK命令行。    * Eclipse:Memory Analyzer Tool。    * Jconsole。    * VisualVm。    * Jprofiler。    * Java Flight Recorder。    * GCViewer。    * GC Easy。    * 内存调试自带命令：    * jps：查看当前程序运行的进程。    * jstat：查看JVM在JC时候统计信息。        > jstat -gc 进程号    * jinfo：查看JVM参数配置情况。        > jinfo -flag 参数名 进程号。* 常用参数说明：> * -Xms：用于表示堆空间起始内存，等价于-XX:InitialHeapSize。(年轻代+老年代)> * -Xmx：用于表示堆空间最大内存，等价于-XX:MaxHeapSize。(年轻代+老年代)> * -XX:+PrintGCDetails： 打印垃圾回收细节。> * 配置新生代与老年代在堆结构的占比。>   * 默认-XX:NewRatio=2,表示新生代占1,老年代占2,新生代占整个堆的1/3。>   * 可以修改-XX:NewRation=4，表示新生代占1，老年代占4，新生代占整个堆的1/5。> * -XX：SurvivorRation：调整Eden和Survivor空间比例。比如-XX:SurvivorRatio=8。表是8：1：1。> * -Xmn：设置新生最大内存大小。> * -XX:MaxTenuringThreshold=<N>：幸存者区对象垃圾回收N次后放入养老区，默认15。> * -XX:+UseTLAB。开启TLAB,默认开启的，为每个线程在伊甸园区分配独立空间，总体占伊甸园区1%。> * -XX:TLABWasteTargetPercent。设置TLAB空间所占用Eden空间的百分比大小。> * -XX:+HeapDumpOnOutOfMemoryError：当产生堆空间溢出时生成dump文件。> * 查看默认的垃圾收集器：>   * -XX:+PrintCommandLineFlags：查看命令行相关参数（包含适用的垃圾收集器）>   * 使用命令行指令：jinfo -flag 相关垃圾回收器参数(Jdk8默认的UseParallelGC/UseParallelOldGC，Jdk9即以后UseG1GC) 进程ID### OutOfMemory举例* OutOfMemoryError：Java heap space。 堆空间占满。* OutOfMemoryError：操作系统内存占满。* OutOfMemoryError：堆外空间占满。* OutOfMemoryError：栈空间占满。