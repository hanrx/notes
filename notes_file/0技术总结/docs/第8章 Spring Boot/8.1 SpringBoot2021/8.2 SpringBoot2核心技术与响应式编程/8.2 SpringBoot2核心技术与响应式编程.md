
# 8.2.1 SpringBoot2入门

* maven设置
  ![img.png](img.png)

## 1、了解自动配置原理
* 1.SpringBoot特点
  * 1.1依赖管理：
  ````
      依赖管理
      <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.2.5.RELEASE</version>
      </parent>
  
      它的父项目
        <parent>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-dependencies</artifactId>
          <version>2.2.5.RELEASE</version>
          <relativePath>../../spring-boot-dependencies</relativePath>
        </parent>
  
      几乎声明了所有开发中常见的依赖的版本号，自动版本仲裁机制
  
  
  ````
    * 开发导入starter场景启动器
      ````
      1、见到很多spring-boot-starter-*： *就是某种场景
      2、只要引入starter，这个场景的所有常规需要的依赖我们都自动引入。
      3、SpringBoot所有支持的场景：https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter
      4、见到的 *.spring-boot-starter，第三方为我们提供的简化开发的场景启动器。
      5、所有场景启动器最底层的依赖
        <dependency>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-starter</artifactId>
          <version>2.2.5.RELEASE</version>
          <scope>compile</scope>
        </dependency>
      
      ````
    * 无需关注版本号，自动版本仲裁
      ````
      1、引入依赖默认都可以不写版本
      2、引入非版本仲裁的jar，要写版本号。
      ````
    * 修改版本号
      ````
      1、查看spring-boot-dependencies里面规定当前依赖的版本 用的key。
      2、在当前项目里面重写配置
        <properties>
          <mysql.version>5.0.19</mysql.version>
        </properties>
      ````
  * 1.2、自动配置
    * 自动配好Tomcat
      * 引入Tomcat
      * 配置Tomcat
      ````
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-tomcat</artifactId>
        <version>2.2.5.RELEASE</version>
        <scope>compile</scope>
      </dependency>
      ````
    * 自动配好SpringMVC
      * 引入SpringMVC全套组件
      * 自动配好SpringMVC常见组件（功能）
      查看容器内的组件：
        ![img_1.png](img_1.png)
    * 自动配好Web常见功能，如：字符编码问题
      * SpringBoot帮我们配置好了所有web开发的场景场景
    * 默认的包结构
      * 主程序所在包及其下面的所有子包里面的组件都会被默认扫描进来
      * 无须以前的包扫描配置
      * 想要改变扫描路径，@SpringBootApplication(scanBasePackages="com.iafoot")
        * 或者@ComponentScan 指定扫描路径
    * 各种配置拥有默认值
      * 默认配置最终都是映射到MultipartProperties
      * 配置文件的值最终会绑定每个类上，这个类会在容器中创建对象
    * 按需加载所有自动配置项
      * 引入了哪些场景的starter这个场景的自动配置才会开启。
        ````
          <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-autoconfigure</artifactId>
            <version>2.2.5.RELEASE</version>
            <scope>compile</scope>
          </dependency>
        ````
    * ......

## 2、容器功能 
* 2.1、组件添加
  * 1、@Configuration
    * 基本使用
      * 1、配置类里面使用@Bean标注在方法上给容器注册组件，默认也是单实例的。
      * 2、配置类本身也是组件
      * 3、proxyBeanMethods：代码bean的方法。
      ![img_2.png](img_2.png)
        
      ![img_3.png](img_3.png)
    * Full模式与Lite模式
      * 示例
      * 最佳实战
        * 配置类组件之间无依赖关系用Lite模式加速容器启动过程，减少判断
        * 配置类组件之间有依赖关系，方法会被调用得到之前单实例组件，用Full模式。
  * 2、@Bean、@Component、@Controller、@Service、@Repository
  * 3、@ComponentScan、@Import
    * 调用无参构造器给容器中自动创建出这两个类型的组件，默认组件的名字就是全类名。![img_4.png](img_4.png)
  * 4、@Conditional

* 2.2、原生配置文件引入
  * 1、@ImportResource








































































































